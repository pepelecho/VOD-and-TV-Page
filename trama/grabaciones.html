<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Trama, la mejor opción de contenido bajo demanda y televisión en directo. Todo tipo de contenido al alcance de tu dedo.">
    <meta name="keywords" content="Trama, películas, series, IPTV, televisión, películas, contenido bajo demanda, VOD">
    <meta name="author" content="Trama">
    <meta name="robots" content="index, follow">
    <title>Trama - Contenido bajo demanda y Televisión en directo</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" href="css/full.css">
    <link rel="stylesheet" href="css/list.css">
    <link rel="stylesheet" href="css/record.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
        integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

</head>

<body>
    <header class="header">
        <h1 class="logo">Trama<sup>&#8226;</sup></h1>
        <div class="menu-toggle">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <ul class="top-menu">
            <li><a href="index.html">Inicio</a></li>

            <li><a href="search.html">Buscar</a></li>

            <li><a href="tv.html">TV</a></li>

            <li><a href="cine.html">Cine</a></li>


            <li><a href="series.html">Series</a></li>

            <li><a href="deportes.html">Deportes</a></li>


            <li><a href="grabaciones.html">Grabaciones<span class="live-brod">&#8226;</span></a></li>


            <li><a href="mi-lista.html">Mi lista</a></li>

            <li><a href="opciones.html">Opciones</a></li>

        </ul>

    </header>
    <main>


        <div class="contenido-recording">
            <label class="select" style="width: 100%;">
                <select id="record-selector">
                    <option value="23-mar">23 mar</option>
                    <option value="28-mar">28 mar</option>
                </select>
            </label>

            <div class="recording-recordings">
                <div class="selected-recordings recordings-item" data-content="23-mar">
                    <p class="texto-negro-recordings">23 mar</p>
                </div>
                <div class="unselected-recordings recordings-item" data-content="28-mar">
                    <p class="texto-blanco-recordings">28 mar</p>
                </div>
            </div>

            <div class="contenido-principal">
                <div id="grabaciones" class="contenido-seccion">

                    <h3>23 de marzo</h3>
                    <div class="programa-milista selected-programa" id="23-mar">
                        <div class="titulo-con-boton">

                            <p class="titulo-programa-milista"><i class="fas fa-video"></i>
                                The Movies: La Edad de Oro Parte 1
                            </p>
                            <button class="btn-descripcion">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <p class="hora-programa-milista">06:01AM - 06:40AM, 39 min</p>
                        <img alt="M+ Plus" class="logo-programa-milista" src="img/mplus.png">
                    </div>
                    <div class="contenedor-descripcion-programa-milista oculto">
                        Documentales/Documental cine | 2019 | TP | ★8.0/10<br>
                        · En este capítulo, la serie documental repasa la historia del cine durante las primeras décadas
                        del séptimo arte a
                        través de sus películas más icónicas. Votos: 23.<br><br>

                        · Título original: The Movies: The Golden Age Part 1<br>
                        · País: EE.UU.<br>
                        · Productora: HBO Films.<br>
                    </div>
                    <hr>
                    <h3>28 de marzo</h3>

                    <div class="programa-milista" id="28-mar">
                        <div class="titulo-con-boton">
                            <p class="titulo-programa-milista"><i class="fas fa-video"></i>Cuéntame cómo pasó T13 E3 ·
                                Hoy empieza todo</p>
                            <button class="btn-descripcion">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <p class="hora-programa-milista">22:05PM - 00:05PM, 120 min</p>
                        <img alt="La 1" class="logo-programa-milista" src="img/la1_3.png">
                    </div>
                    <div class="contenedor-descripcion-programa-milista oculto">
                        Series/Drama | 2011 | ⑦ | ★4.0/10<br>
                        · La familia Alcántara al completo se prepara para afrontar el nuevo curso, cada uno a su
                        manera. Antonio ha conseguido
                        una entrevista de trabajo gracias a una recomendación que le ha hecho su vecino Goyo. Mercedes,
                        por su parte, ha
                        empezado a trabajar en la inmobiliaria. Lleva pocos días, pero como todavía no ha conseguido
                        cerrar ninguna venta, su
                        jefe le pone un ultimátum y Merche se siente presionada. Mientras, Inés empieza a impartir
                        clases como profesora en el
                        taller de cerámica para chicos problemáticos y tiene dificultades para que la tomen en serio.
                        Carlos ha empezado las
                        clases en la Universidad y no entiende nada. Su amiga Arancha, que es muy aplicada, se ofrecerá
                        a darle clases
                        particulares, algo que confundirá aún más al hijo menor de los Alcántara. Además, la situación
                        económica de Miguel y
                        Paquita es cada vez peor ya que casi no dan comidas y cada vez entran menos clientes. Votos: 60.
                    </div>

                </div>
            </div>
        </div>

    </main>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        //Cambiar grabaciones

        $(document).ready(function () {

            // Función para actualizar la interfaz según la grabación seleccionada
            function actualizarGrabacion(seleccionId) {
                // Actualizar la selección de elementos de la grabación en el menú
                $('.recordings-item').removeClass('selected-recordings').addClass('unselected-recordings');
                $('.recordings-item p').removeClass('texto-negro-recordings').addClass('texto-blanco-recordings');
                $('.recordings-item[data-content="' + seleccionId + '"]').removeClass('unselected-recordings').addClass('selected-recordings');
                $('.recordings-item[data-content="' + seleccionId + '"]').find('p').removeClass('texto-blanco-recordings').addClass('texto-negro-recordings');

                // Sincronizar los selectores con la grabación seleccionada
                $('#recordings-selector').val(seleccionId);
                $('#record-selector').val(seleccionId);

                // Actualizar la selección de programas en el contenedor principal
                $('.programa-milista').removeClass('selected-programa');
                $('#' + seleccionId).addClass('selected-programa');

                // Hacer scroll hasta el programa correspondiente
                var elementoObjetivo = $('#' + seleccionId)[0]; // Convertir a DOM element
                if (elementoObjetivo) {
                    $('.contenido-principal')[0].scrollTop = 0; // Opcional: Reiniciar el scroll para animación más suave
                    elementoObjetivo.scrollIntoView({
                        behavior: 'smooth', // Desplazamiento suave
                        block: 'center'     // Asegurar que el elemento esté en el centro vertical del contenedor
                    });
                }

                // Mostrar la descripción del programa seleccionado
                var $contenedorDescripcion = $('#' + seleccionId).next('.contenedor-descripcion-programa-milista');

                // Cerrar todas las descripciones abiertas, excepto la actual
                $('.contenedor-descripcion-programa-milista').not($contenedorDescripcion).each(function () {
                    if ($(this).hasClass('visible')) {
                        $(this).removeClass('visible').css({
                            'padding': $(this).data('original-padding'),
                            'margin-bottom': $(this).data('original-margin-bottom'),
                            'opacity': '0',
                            'transform': 'translateY(-10px)'  // Ejemplo de un efecto de desplazamiento
                        });
                        // Quitar la clase 'active' de la flecha asociada
                        $(this).prev('.programa-milista').find('.btn-descripcion').removeClass('active');
                    }
                });

                // Añadir la transición antes de cualquier cambio de estilo
                $contenedorDescripcion.css({
                    'transition': 'margin-bottom 0s ease, padding 0s ease, opacity 0.3s ease, transform 0.3s ease'
                });

                // Si el contenedor ya tiene la clase 'visible', revertir estilos
                if ($contenedorDescripcion.hasClass('visible')) {
                    $contenedorDescripcion.removeClass('visible').css({
                        'padding': $contenedorDescripcion.data('original-padding'),
                        'margin-bottom': $contenedorDescripcion.data('original-margin-bottom'),
                        'opacity': '0',
                        'transform': 'translateY(-10px)'  // Ejemplo de un efecto de desplazamiento
                    });
                } else {
                    // Guardar estilos originales antes de aplicar nuevos estilos
                    var originalPadding = $contenedorDescripcion.css('padding');
                    var originalMarginBottom = $contenedorDescripcion.css('margin-bottom');

                    // Guardar los estilos originales en data attributes para restauración
                    $contenedorDescripcion.data('original-padding', originalPadding);
                    $contenedorDescripcion.data('original-margin-bottom', originalMarginBottom);

                    // Aplicar nuevos estilos para la transición
                    $contenedorDescripcion.addClass('visible').css({
                        'padding': '20px',
                        'margin-bottom': '20px',
                        'opacity': '1',
                        'transform': 'translateY(0)'  // Regresar a la posición original
                    });
                }

                $('#' + seleccionId).find('.btn-descripcion').toggleClass('active');
            }

            // Manejar clics en los elementos de la lista de programas
            $('.programa-milista').on("click", function () {
                // Obtener el ID del programa seleccionado
                var seleccionId = $(this).attr('id');

                // Actualizar la interfaz de grabación según el programa seleccionado
                actualizarGrabacion(seleccionId);

                // Actualizar el selector de programas con el ID del programa seleccionado
                $('#programas-selector').val(seleccionId);
            });

            // Manejar clics en los elementos de la grabación
            $('.recordings-item').on('click', function () {
                // Obtener el valor del atributo data-content
                var seleccionId = $(this).data('content');

                // Actualizar la interfaz
                actualizarGrabacion(seleccionId);
            });

            // Manejar cambios en el selector de grabaciones original
            $('#recordings-selector').on('change', function () {
                // Obtener el valor seleccionado
                var valorSeleccionado = $(this).val();

                // Actualizar la interfaz
                actualizarGrabacion(valorSeleccionado);
            });

            // Manejar cambios en el nuevo selector de grabaciones
            $('#record-selector').on('change', function () {
                // Obtener el valor seleccionado
                var valorSeleccionado = $(this).val();

                // Actualizar la interfaz
                actualizarGrabacion(valorSeleccionado);
            });

            // Manejar cambios en el selector de programas
            $('#programas-selector').on('change', function () {
                // Obtener el valor seleccionado
                var valorSeleccionado = $(this).val();

                // Actualizar la interfaz
                actualizarGrabacion(valorSeleccionado);
            });

            // Mostrar descripciones de programas
            $('.programa-milista').on('click', function () {
                var $contenedorDescripcion = $(this).closest('.programa-milista').next('.contenedor-descripcion-programa-milista');

                // Cerrar todas las descripciones abiertas, excepto la actual
                $('.contenedor-descripcion-programa-milista').not($contenedorDescripcion).each(function () {
                    if ($(this).hasClass('visible')) {
                        $(this).removeClass('visible').css({
                            'padding': $(this).data('original-padding'),
                            'margin-bottom': $(this).data('original-margin-bottom'),
                            'opacity': '0',
                            'transform': 'translateY(-10px)'  // Ejemplo de un efecto de desplazamiento
                        });

                    }
                });

                // Añadir la transición antes de cualquier cambio de estilo
                $contenedorDescripcion.css({
                    'transition': 'margin-bottom 0s ease, padding 0s ease, opacity 0.3s ease, transform 0.3s ease'
                });

                // Si el contenedor ya tiene la clase 'visible', revertir estilos
                if ($contenedorDescripcion.hasClass('visible')) {
                    $contenedorDescripcion.removeClass('visible').css({
                        'padding': $contenedorDescripcion.data('original-padding'),
                        'margin-bottom': $contenedorDescripcion.data('original-margin-bottom'),
                        'opacity': '0',
                        'transform': 'translateY(-10px)'  // Ejemplo de un efecto de desplazamiento
                    });
                } else {
                    // Guardar estilos originales antes de aplicar nuevos estilos
                    var originalPadding = $contenedorDescripcion.css('padding');
                    var originalMarginBottom = $contenedorDescripcion.css('margin-bottom');

                    // Guardar los estilos originales en data attributes para restauración
                    $contenedorDescripcion.data('original-padding', originalPadding);
                    $contenedorDescripcion.data('original-margin-bottom', originalMarginBottom);

                    // Aplicar nuevos estilos para la transición
                    $contenedorDescripcion.addClass('visible').css({
                        'padding': '20px',
                        'margin-bottom': '20px',
                        'opacity': '1',
                        'transform': 'translateY(0)'  // Regresar a la posición original
                    });
                }

                $(this).find('.btn-descripcion').toggleClass('active');
            });


            // Mostrar la primera grabación y su descripción al cargar la página
            var primerId = $('.programa-milista').first().attr('id');
            if (primerId) {
                actualizarGrabacion(primerId);
            }

        });


    </script>
    <script src="js/full.js"></script>
</body>

</html>